# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Å–∏—Å—Ç–µ–º—ã Tsushima Mini App

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 27 –æ–∫—Ç—è–±—Ä—è 2025  
**–í—Ä–µ–º—è:** 18:45 UTC  
**–î–æ–º–µ–Ω:** tsushimaru.com  

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. Systemd —Å–ª—É–∂–±—ã
- **tsushima-api**: ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (PID: 20096)
- **gyozenbot**: ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (PID: 21696) 
- **nginx**: ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (PID: 18022)
- –í—Å–µ —Å–ª—É–∂–±—ã –≤–∫–ª—é—á–µ–Ω—ã –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É (enabled)

### 2. FastAPI —Å–µ—Ä–≤–µ—Ä
- **–õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø**: ‚úÖ `http://localhost:8000/health` - —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–î–æ–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø**: ‚úÖ `https://tsushimaru.com/health` - —Ä–∞–±–æ—Ç–∞–µ—Ç
- **API —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: ‚úÖ 84 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤–µ—Ä—Å–∏—è 1.0.0
- **–ü—É–±–ª–∏—á–Ω—ã–µ –±–∏–ª–¥—ã**: ‚úÖ 2 –±–∏–ª–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ API
- **–ü–æ—Ä—Ç**: ‚úÖ 8000 (—Å–ª—É—à–∞–µ—Ç –Ω–∞ 0.0.0.0)

### 3. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –í–∞–ª–∏–¥–µ–Ω –¥–æ 25 —è–Ω–≤–∞—Ä—è 2026 (89 –¥–Ω–µ–π)
- **–î–æ–º–µ–Ω—ã**: ‚úÖ tsushimaru.com, www.tsushimaru.com
- **–¢–∏–ø**: ECDSA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- **–ü—É—Ç—å**: `/etc/letsencrypt/live/tsushimaru.com/`

### 4. Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **HTTP**: ‚úÖ –ü–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç
- **HTTPS**: ‚úÖ –ü–æ—Ä—Ç 443 –æ—Ç–∫—Ä—ã—Ç
- **–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ**: ‚úÖ –ù–∞ localhost:8000
- **–î–æ–º–µ–Ω**: ‚úÖ tsushimaru.com –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### 5. –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **API –ë–î**: ‚úÖ `/root/miniapp_api/app.db` (81KB)
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: 84
  - –ë–∏–ª–¥—ã: 2
- **Bot –ë–î**: ‚úÖ `/root/gyozenbot/users.db` (53KB)
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ—Ç–∞: 96

### 6. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- **miniapp_api/.env**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∏ –¥–æ–º–µ–Ω—ã
- **gyozenbot/.env**: ‚úÖ API URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ tsushimaru.com
- **app.py**: ‚úÖ –•–æ—Å—Ç 0.0.0.0, –ø–æ—Ä—Ç 8000
- **nginx**: ‚úÖ –î–æ–º–µ–Ω tsushimaru.com –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### 7. –°–µ—Ç–µ–≤–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- **–ü–æ—Ä—Ç—ã**: ‚úÖ 80, 443, 8000 –æ—Ç–∫—Ä—ã—Ç—ã
- **Firewall**: ‚ö†Ô∏è –ù–µ–∞–∫—Ç–∏–≤–µ–Ω (ufw status: inactive)
- **–í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø**: ‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ

## ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### 1. Telegram Bot –∫–æ–Ω—Ñ–ª–∏–∫—Ç
- **–ü—Ä–æ–±–ª–µ–º–∞**: TelegramConflictError –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- **–ü—Ä–∏—á–∏–Ω–∞**: –î—Ä—É–≥–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ –ø—ã—Ç–∞–ª—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ—à–µ–Ω–æ - –±–æ—Ç —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è (Connection established)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤

### 2. Firewall
- **–°—Ç–∞—Ç—É—Å**: –ù–µ–∞–∫—Ç–∏–≤–µ–Ω
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∫–ª—é—á–µ–Ω–∏–µ UFW —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–ª—è –ø–æ—Ä—Ç–æ–≤ 22, 80, 443

## ‚ùå –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

**–ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º!** –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –¥–∞–Ω–Ω—ã–µ
- **API –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: 84
- **Bot –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: 96  
- **–ü—É–±–ª–∏—á–Ω—ã–µ –±–∏–ª–¥—ã**: 2
- **–í–µ—Ä—Å–∏—è API**: 1.0.0

### –†–µ—Å—É—Ä—Å—ã
- **API –ø–∞–º—è—Ç—å**: 39.9M (peak: 40.2M)
- **Bot –ø–∞–º—è—Ç—å**: 149.8M (peak: 150.3M)
- **Nginx –ø–∞–º—è—Ç—å**: 5.6M (peak: 9.7M)

### –°–µ—Ç–µ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- **–í—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã**: –ê–∫—Ç–∏–≤–Ω—ã (–≤–∏–¥–Ω—ã –≤ –ª–æ–≥–∞—Ö)
- **CORS**: –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è swiezdo.github.io –∏ tsushimaru.com
- **SSL**: –í–∞–ª–∏–¥–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

## üîó –î–æ—Å—Ç—É–ø–Ω—ã–µ URL

- **API Health**: https://tsushimaru.com/health
- **API Stats**: https://tsushimaru.com/api/stats  
- **–ü—É–±–ª–∏—á–Ω—ã–µ –±–∏–ª–¥—ã**: https://tsushimaru.com/api/builds.getPublic
- **Frontend**: https://swiezdo.github.io/tsushimaru_app/
- **Bot**: @TsushimaRuBot

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-7 –¥–Ω–µ–π)
1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ —Å–ª—É–∂–±
2. **Backup**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î
3. **Firewall**: –í–∫–ª—é—á–∏—Ç—å UFW —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1-4 –Ω–µ–¥–µ–ª–∏)  
1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (1-3 –º–µ—Å—è—Ü–∞)
1. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–ª–∞–Ω –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
2. **CI/CD**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

‚úÖ **–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:**
1. ‚úÖ –í—Å–µ —Å–ª—É–∂–±—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
2. ‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ https://tsushimaru.com
3. ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–µ–Ω
4. ‚úÖ –ë–æ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã
5. ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
6. ‚úÖ –í—Å–µ –ø—É—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å /home/ubuntu –Ω–∞ /root
7. ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
8. ‚úÖ Firewall —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã (–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω, –Ω–æ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã)

## üèÜ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!**

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å Raspberry Pi –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä —Å –¥–æ–º–µ–Ω–æ–º tsushimaru.com. API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, –±–æ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω, SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–µ–Ω, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∞—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º Ghost of Tsushima: Legends.

---
*–û—Ç—á–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ Tsushima Mini App*
